***Create group with uniq ID 1050
sudo groupadd -g 1050 bmirrakhimov_group
***Create userd with specific ID and and to existing group
sudo useradd bmirrakhimov -u 1040 -g 1050 -d /home/bmirrakhimov_home -s /bin/bash
***Add user to 24(CDROM) group
sudo usermod -aG 24 bmirrakhimov
***Add password to the new created user
sudo passwd bmirrakhimov

***Connect to VM using SSH key as nsurname
ssh-keygen -C "epam-vm" -t rsa -b 4096
***Give new directory and name
/home/ubuntu/.ssh/bmirrakhimov.pem
***Change the config file on remote VM
sudo vim /etc/ssh/sshd_config
sudo service sshd reload
Replace PasswordAuthentication no to PasswordAuthentication yes
***Copy pub key to remote vm
ssh-copy-id -i ~/.ssh/bmirrakhimov.pem.pub bmirrakhimov@172.17.91.44

***Login to host
ssh -i ~/.ssh/bmirrakhimov.pem/ bmirrakhimov@172.17.91.44
***Change the config file on remote VM
sudo vim /etc/ssh/sshd_config
Replace PasswordAuthentication yes to PasswordAuthentication no
***Create user jump for jumphost
sudo useradd -m -s /bin/bash -c "jump server" jump
*** Change password for new user
sudo passwd epam2
***Create jumhost config file
### First jump host. Directly reachable
Host jumpohost
  HostName 172.17.84.194
  User jump
  Port 22

### Host to jump to via jumphost1.example.org
Host epam2
  HostName 172.17.80.176
  User epam2
  ProxyJump jumpohost


***Sudo Rights
***Take backup of config file
cp /etc/sudoers /root/sudoers.bak
***Edit file
sudo visudo /etc/sudoers
***Add
bmirrakhimov ALL = NOPASSWD: /usr/bin/apt , /usr/bin/apt-get , PASSWD: /usr/bin/apt update , /usr/bin/apt-get update
***Reset group
sudo newgrp
cp /etc/sudoers /root/sudoers.bak
